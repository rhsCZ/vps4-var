<roundcube:include file="includes/layout.html" />

<h1 class="voice"><roundcube:object name="sectionname" /></h1>

<div class="formcontent">
    <roundcube:object name="toolbox" form="form" class="propform cols-sm-6-6" tbl_class="propform" input_error_class="is-invalid" />
</div>

<roundcube:if condition="env:cur_section != 'aliases'" />
<div class="formbuttons">
    <roundcube:button command="plugin.toolbox.save" class="btn btn-primary submit" label="save" />
</div>
<roundcube:endif />

<script>
// Set the scrollable parent object for the table's fixed header
rcube_list_widget.prototype.container = 'div.formcontent';

// bootstrap display
$('#forward-addresses-table').addClass('table table-striped');
$('table.propform tr.sauphelp.saupsubject td').first().addClass('d-none d-sm-flex');

// add bootstrap styles for radio buttons
$('[type=radio]', $('.propform', document)).addClass('form-check-input').parents('tr').addClass('form-check');

// relocate help icon at end of text
$.each($('span.helpicon'), function() {
    var a = $(this).parent();
    var row = $(this).parents('tr');
    a.appendTo(row.children('td').first().children('label'));
});

// create input group for adding addresses
if ($('div.address-input').length == 1) {
    $('div.address-input').addClass('input-group');
    $('#rcmfd_spamaddressrule').wrap($('<span>').addClass('input-group-prepend'));
    $('#rcmbtn_add_address').wrap($('<span>').addClass('input-group-append'));
}

</script>

<roundcube:include file="includes/footer.html" />
